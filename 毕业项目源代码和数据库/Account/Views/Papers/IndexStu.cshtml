
@{
    ViewBag.Title = "IndexStu";
    Layout = "~/Views/Shared/_LayoutEmax.cshtml";
    Student stu = Session["user"] as Student;
}
@using Account.Models
@model List<Paper>
<h2>试卷列表</h2>
<p>说明：一旦点击“开始答题”, 那么标识考试正式开始，直至结束。无法再次点击该考试。因此请考生准备好后，再开始答题。</p>
<table class="table">
    <tr>
        <th>试卷名</th>
        <th>试卷说明</th>
        <th>试卷时长 (分钟)</th>
        <th></th>
    </tr>
    @foreach (var item in Model)
    {
        <tr>
            <td>@item.PaperName</td>
            <td>@item.PaperExplain</td>
            <td>@item.PaperTime</td>
            <td>
                @{
                    List<Answer> list = item.Answer.Where(p => p.PaperID == item.PaperID && p.StuID == stu.StuID).ToList();
                    if (list.Count > 0)
                    {
                        foreach (var items in list)
                        {
                            if (items.AnswerState == 0)
                            {
                                <a href="#">继续答题</a>
                            }
                            else if (items.AnswerState == 1)
                            {
                                <a href="#">已作答</a>
                            }
                            else
                            {
                                <a href="#">已批改</a>
                            }
                        }
                    }

                    else
                    {
                        <a href="/Answers/BeginAnswer?PaperID=@item.PaperID">开始答题</a>
                    }

                }

            </td>
        </tr>
    }
</table>
